%--------------------------------------------------%
% generated by the codebookr R package
% created by Joshua C. Fjelstul, Ph.D.
%--------------------------------------------------%

\documentclass[10pt]{article}

%--------------------------------------------------%
% packages
%--------------------------------------------------%

% page layout
\usepackage{geometry}

% fonts
\usepackage[english]{babel}
\usepackage{underscore}
\usepackage{anyfontsize}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fontspec}

% graphics and tables
\usepackage{graphicx} % add figures
\usepackage{xcolor} % change font color
\usepackage{tikz} % add graphics

% paragraph spacing
\usepackage{setspace}

% hyperlinks
\usepackage{url}

% table of contents
\usepackage{tocloft}

% test alignment
\usepackage{ragged2e}

% multi-page tables
\usepackage{longtable}

% custom lists
\usepackage{enumitem}

% insert content on every page
\usepackage{atbegshi} 

% code formatting
\usepackage{tcolorbox}

%--------------------------------------------------%
% colors
%--------------------------------------------------%

% define colors
\definecolor{themecolor}{HTML}{COLOR}
\definecolor{background}{HTML}{EEF6FD}

% format hyperlinks
\usepackage[colorlinks=true,linkcolor=themecolor,citecolor=themecolor,urlcolor=themecolor,breaklinks=true]{hyperref}

%--------------------------------------------------%
% formatting
%--------------------------------------------------%

% configure main font
\setmainfont[Ligatures=TeX,BoldFont={Roboto Medium}]{Roboto Light}
\setmonofont[Ligatures=TeX]{Roboto Mono-Light}

% set page margins
\geometry{top = 1.5in, bottom = 1.5in, left = 1.5in, right = 1.5in}

% set paper size
\geometry{letterpaper}

% format table of contents
\renewcommand{\cftsecdotsep}{10}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecfont}{{\small\color{black!75}\bfseries}}
\renewcommand{\cftsecpagefont}{{\small\color{black!75}\normalfont}}

% adjust spacing
\usepackage{parskip}
\parskip=10pt
\renewcommand{\baselinestretch}{1.4}

% hyphen formatting
\hyphenpenalty = 10000
\exhyphenpenalty = 10000

% prevent widow and orphan lines
\widowpenalty10000
\clubpenalty10000

%--------------------------------------------------%
% page elements
%--------------------------------------------------%

% a command to make a code box
\newtcbox{\codebox}{nobeforeafter,tcbox raise base,colback=black!5,colframe=white,coltext=black!75,boxrule=0pt,arc=3pt,boxsep=0pt,
left=4pt,right=4pt,top=3pt,bottom=3pt}

% a command to make a chip
\newtcbox{\chip}{nobeforeafter,tcbox raise base,colback=black!5,colframe=white,coltext=black!75,boxrule=0pt,arc=11pt,boxsep=0pt,
left=10pt,right=10pt,top=8pt,bottom=8pt}

% command to format code
\newcommand{\code}[1]{\codebox{{\footnotesize\texttt{#1}}}}

% command to highlight text
\newcommand{\highlight}[1]{{\color{themecolor} \textbf{#1}}}

% command to create a divider
\newcommand{\dividerline}{{\color{gray!10} \rule[4pt] {\textwidth}{3pt}}}

% command to add a cover
\newcommand{\cover}[4]{
\begin{tikzpicture}[remember picture,overlay, shift={(current page.south west)}]
\fill[themecolor] (0, 5.5in) rectangle ++ (8.5in, 5.5in); % header bar
\fill[black!5] (0, 4in) rectangle ++ (8.5in, 1.5in); % middle bar
\fill[white] (0, 0in) rectangle ++ (8.5in, 4in); % footer bar
\node[anchor=west] at (1.5in, 6.25in) {\color{white} \fontsize{60}{60}\selectfont \begin{minipage}{5.5in} \textbf{Codebook} \fontsize{15}{15}\selectfont \hspace{5pt} v #2 \end{minipage}};
\node[anchor=west, align=left] at (1.5in, 4.75in) {\begin{minipage}{5.5in} \color{black!40} \fontsize{#4}{#4} \selectfont #1 \end{minipage}};
\node[anchor=west, align=left, minimum height=2in] at (1.5in, 2.55in) {\begin{minipage}[t][2in]{5.5in} \color{black!40} \fontsize{10}{10} \selectfont #3 \end{minipage}};
\end{tikzpicture}
}

% command to add a header page
\newcommand{\headerpage}[4]{
	\newpage
	\begin{tikzpicture}[remember picture,overlay, shift={(current page.south west)}]
		\fill[themecolor] (0, 9in) rectangle ++ (8.5in, 2in); % header line 1
		\fill[black!5] (0, 8in) rectangle ++ (8.5in, 1in); % header line 2
		\node[anchor = west] at (1.5in, 9.6in) {\color{white} \fontsize{#3}{#3}\selectfont \textbf{#1}}; % heading
		\node[anchor = west] at (1.5in, 8.5in) {\color{black!40} \fontsize{#4}{#4}\selectfont #2}; % heading
	\end{tikzpicture}
	\phantomsection
	\addcontentsline{toc}{section}{#1}
	\vspace{1.5in}
}

% command to layout page
\newcommand\pagelayout{
	\begin{tikzpicture}[remember picture,overlay, shift={(current page.south west)}]
		% \fill[themecolor] (0, 10.75in) rectangle ++ (8.5in, 0.25in); % header
		\fill[black!5] (0, 0) rectangle ++ (8.5in, 0.5in); % footer
		\draw (0.25in, 0.25in) node[anchor = west] {\fontsize{9}{9}\selectfont \color{black!40} FOOTER_TEXT}; % footer content
		\draw (8.25in, 0.25in) node[anchor = east] {\fontsize{9}{9}\selectfont \color{black!40} \thepage}; % page number
	\end{tikzpicture}
}

% add page layout 
\AtBeginShipout{
	\AtBeginShipoutUpperLeft{\pagelayout}
}

% command to add a subheading
\newcommand{\subheading}[1]{
\vspace{24pt}
{\color{themecolor} \fontsize{14}{14}\selectfont \textbf{#1}}
\vspace{6pt}
\dividerline
\vspace{-20pt}
}

%--------------------------------------------------%
% start document
%--------------------------------------------------%

\begin{document}

\clearpage
\pagestyle{empty}

\color{black!75}

\small

\begin{flushleft}

%--------------------------------------------------%
% cover
%--------------------------------------------------%

\cover{TITLE_TEXT}{VERSION_TEXT}{AUTHOR_NAMES}{TITLE_FONT_SIZE}

\newpage

%--------------------------------------------------%
% table of contents
%--------------------------------------------------%

TABLE_OF_CONTENTS

%--------------------------------------------------%
% content
%--------------------------------------------------%


CONTENT

%--------------------------------------------------%
% end document
%--------------------------------------------------%

\end{flushleft}

\end{document}
